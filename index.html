<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1行リレー小説</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
        <h1>relay-novel</h1>
        <button id="admin-btn" class="admin-btn">管理者ログイン</button>
    </header>

    <div class="main-container">
        <aside class="sidebar">
            <div class="novels-list">
                <h2>作品一覧</h2>
                <div id="novels-list-container">
                    <div class="loading">読み込み中...</div>
                </div>
            </div>
            <button id="create-novel-btn" class="create-novel-btn">新しい作品を作る</button>
            <p id="create-notice" class="notice" style="margin-top: 10px;"></p>
        </aside>

        <main class="content">
            <div class="novel-header">
                <div class="novel-header-top">
                    <h2 id="current-novel-title">作品を選択してください</h2>
                    <div id="current-novel-status"></div>
                </div>
                <div class="novel-info" id="current-novel-info"></div>
            </div>

            <div id="completion-message-container"></div>

            <div class="novel-container">
                <div id="novel-lines" class="novel-lines">
                    <div class="loading">作品を選択してください</div>
                </div>
            </div>

            <div class="input-section">
                <textarea 
                    id="line-input" 
                    placeholder="次の1行を書いてください（最大100文字）" 
                    maxlength="100"
                    disabled
                ></textarea>
                <div class="input-footer">
                    <div class="input-footer-left">
                        <span id="char-count">0/100</span>
                        <span id="remaining-lines"></span>
                    </div>
                    <button id="submit-btn" disabled>投稿する</button>
                </div>
                <p class="notice" id="notice"></p>
            </div>
        </main>
    </div>

    <div id="admin-modal" class="modal">
        <div class="modal-content">
            <h3>管理者ログイン</h3>
            <div class="form-group">
        <label for="admin-email-input">メールアドレス</label>
        <input type="email" id="admin-email-input" placeholder="管理者メールアドレスを入力">
    </div>
    <div class="form-group">
        <label for="admin-password-input">パスワード</label>
        <input type="password" id="admin-password-input" placeholder="パスワードを入力">
    </div>
    <div class="modal-buttons">
        <button class="btn-cancel" id="admin-cancel-btn">キャンセル</button>
        <button class="btn-create" id="admin-login-btn">ログイン</button>
    </div>
        </div>
    </div>

    <div id="create-modal" class="modal">
        <div class="modal-content">
            <h3>新しい作品を作る</h3>
            <div class="form-group">
                <label for="novel-title-input">作品のタイトル</label>
                <input type="text" id="novel-title-input" placeholder="最大30文字" maxlength="30">
            </div>
            <div class="form-group">
                <label for="target-lines-input">完成までの行数</label>
                <input type="number" id="target-lines-input" placeholder="例: 100" min="10" max="1000" value="100">
            </div>
            <div class="modal-buttons">
                <button class="btn-cancel" id="cancel-btn">キャンセル</button>
                <button class="btn-create" id="confirm-create-btn">作成</button>
            </div>
        </div>
    </div>

    <div id="delete-modal" class="modal">
        <div class="modal-content">
            <h3>作品を削除</h3>
            <p>本当にこの作品を削除しますか？</p>
            <p><strong id="delete-novel-title"></strong></p>
            <p class="warning-text">※この操作は取り消せません</p>
            <div class="modal-buttons">
                <button class="btn-cancel" id="delete-cancel-btn">キャンセル</button>
                <button class="btn-delete-confirm" id="delete-confirm-btn">削除する</button>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    
    <script>
        const firebaseConfig = {
    apiKey: "AIzaSyBBuqZ-MKpS9Yg2J2635mnyix6O_XU7v1g",
    authDomain: "relay-novel-110b6.firebaseapp.com",
    databaseURL: "https://relay-novel-110b6-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "relay-novel-110b6",
    storageBucket: "relay-novel-110b6.firebasestorage.app",
    messagingSenderId: "429194672512",
    appId: "1:429194672512:web:545485173674279fca2965"
  };
        
        firebase.initializeApp(firebaseConfig);
    </script>
    <script src="script.js"></script>
</body>
</html>
